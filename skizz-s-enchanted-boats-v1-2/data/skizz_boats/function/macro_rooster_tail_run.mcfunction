
# variables are boat_ench and speed
# boat can on be affected by motion after bubble_column is placed
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s on controller if entity @s[type=player] on vehicle if block ~ ~ ~ water[level=0] rotated as @s if block ^ ^ ^1 water if block ^1 ^ ^1 water if block ^-1 ^ ^1 water run fill ~ ~ ~ ~ ~ ~ bubble_column[drag=false] replace water[level=0]
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=-22.5..22.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion[2] set value $(speed)
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=22.5..67.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion set value [-$(speed),0.0,$(speed)]
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=67.5..112.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion[0] set value -$(speed)
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=112.5..157.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion set value [-$(speed),0.0,-$(speed)]
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=157.5..202.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion[2] set value -$(speed)
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=202.5..247.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion set value [$(speed),0.0,-$(speed)]
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=247.5..292.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion[0] set value $(speed)
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion set value [$(speed),0.0,$(speed)]
$execute as @e[type=#boat,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#boat,tag=skizz_$(boat_ench)] Motion[1] set value 0.0
# chest without sidecar
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s on controller if entity @s[type=player] on vehicle if block ~ ~ ~ water[level=0] rotated as @s if block ^ ^ ^1 water if block ^1 ^ ^1 water if block ^-1 ^ ^1 water run fill ~ ~ ~ ~ ~ ~ bubble_column[drag=false] replace water[level=0]
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=-22.5..22.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion[2] set value $(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=22.5..67.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion set value [-$(speed),0.0,$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=67.5..112.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion[0] set value -$(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=112.5..157.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion set value [-$(speed),0.0,-$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=157.5..202.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion[2] set value -$(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=202.5..247.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion set value [$(speed),0.0,-$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=247.5..292.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion[0] set value $(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion set value [$(speed),0.0,$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] run data modify entity @n[type=#skizz_boats:chest_boats,tag=!skizz_sidecar,tag=skizz_$(boat_ench)] Motion[1] set value 0.0
# chest with sidecar
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s on controller if entity @s[type=player] on vehicle if block ~ ~ ~ water[level=0] rotated as @s if block ^ ^ ^1 water if block ^1 ^ ^1 water if block ^-1 ^ ^1 water run fill ~ ~ ~ ~ ~ ~ bubble_column[drag=false] replace water[level=0]
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=-22.5..22.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion[2] set value $(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=22.5..67.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion set value [-$(speed),0.0,$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=67.5..112.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion[0] set value -$(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=112.5..157.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion set value [-$(speed),0.0,-$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=157.5..202.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion[2] set value -$(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=202.5..247.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion set value [$(speed),0.0,-$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=247.5..292.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion[0] set value $(speed)
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion set value [$(speed),0.0,$(speed)]
$execute as @e[type=#skizz_boats:chest_boats,tag=skizz_sidecar,tag=skizz_$(boat_ench)] on vehicle at @s rotated as @s if entity @s[y_rotation=292.5..337.5] if block ~ ~ ~ bubble_column[drag=false] on controller if entity @s[type=player] on vehicle run data modify entity @s Motion[1] set value 0.0